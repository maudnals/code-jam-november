<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Phone</title>
		<link rel="stylesheet" href="styles.css" media="screen">
		<link href="https://fonts.googleapis.com/css?family=Armata" rel="stylesheet">
	</head>
	<body>
		<p>
			Creative code jam
		</p>
		<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
		<script type="text/javascript">

			// Web server's IP address
			var socket = io('http://192.168.2.221:3000');

			if (window.DeviceMotionEvent) {
			    window.addEventListener('devicemotion', function(eventData) {

							var phoneMotion = {
								acceleration: {
									x: eventData.acceleration.x,
									y: eventData.acceleration.y,
									z: eventData.acceleration.z
								},
								rotationRate: {
									alpha: eventData.rotationRate.alpha,
									beta: eventData.rotationRate.beta,
									gamma: eventData.rotationRate.gamma
								}
							};

							console.log(phoneMotion);
							// 'phonemotion' is the name we agreed on with the server
							socket.emit('phonemotion', phoneMotion);
			    }, false);
			}
		</script>
	</body>
</html>
